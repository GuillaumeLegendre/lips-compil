language=c&code=I2luY2x1ZGUgPHN0ZGlvLmg+DQoNCg0Kdm9pZCBzb3J0X2FycmF5KGludCB0W10sIGludCBhcnJheV9zaXplKSB7DQogICAgaW50IGogPSAwOw0KICAgIGludCB0bXAgPSAwOw0KICAgIGludCBpc19ub3Rfc29ydGVkID0gMTsNCg0KICAgIHdoaWxlIChpc19ub3Rfc29ydGVkKSB7DQogICAgICAgIGlzX25vdF9zb3J0ZWQgPSAwOyANCiAgICAgICAgZm9yIChqID0gMDsgaiA8IGFycmF5X3NpemUgLSAxOyBqKyspIHsgDQogICAgICAgICAgICBpZiAodFtqXSA+IHRbaiArIDFdKSB7DQogICAgICAgICAgICAgICAgdG1wID0gdFtqICsgMV07dFtqICsgMV0gPSB0W2pdOw0KICAgICAgICAgICAgICAgIHRbal0gPSB0bXA7DQogICAgICAgICAgICAgICAgaXNfbm90X3NvcnRlZCA9IDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmludCBpc19zb3J0KGludCB0W10sIGludCBhcnJheV9zaXplKSB7DQogICAgaW50IGkgPSAwOw0KICAgIA0KICAgIGZvciAoaTsgaSA8IGFycmF5X3NpemUgLSAxOyBpKyspIHsNCiAgICAgICAgaWYodFtpXSA+IHRbaSsxXSkNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgIH0NCiAgICANCiAgICByZXR1cm4gMTsNCn0NCg0KaW50IG1haW4oaW50IGFyZ2MsIGNoYXIqIGFyZ3ZbXSkgew0KICAgIC8vIHNvcnRfYXJyYXkoezEsIDMsIDIsIDV9KSA9PiB7MSwgMiwgMywgNX0NCiAgICANCiAgICBpbnQgdGFiMVtdID0gezEsIDMsIDIsIDV9Ow0KICAgIGludCB0YWIyW10gPSB7NiwgMjIsIDEyLCA4NH07DQogICAgDQogICAgc29ydF9hcnJheSh0YWIxLCAzKTsNCiAgICBzb3J0X2FycmF5KHRhYjIsIDQpOw0KICAgIA0KICAgIGlmKGlzX3NvcnQodGFiMSwgMykgPT0gMSAmJiBpc19zb3J0KHRhYjIsIDQpID09IDEpIHsNCiAgICAgICAgcHJpbnRmKCI1MzBmMWM4ZWYyNjE3Iik7DQogICAgfSBlbHNlIHsNCiAgICAgICAgcHJpbnRmKCI1MzBmMWM4ZWYyNjVhIik7DQogICAgfQ0KfQ==